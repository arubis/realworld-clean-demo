name: "RSOLV Iteration 8 E2E - Clean Repo"

on:
  workflow_dispatch:

permissions:
  contents: write
  issues: write
  pull-requests: write

jobs:
  test-rsolv-clean:
    name: "Full Pipeline: SCAN + VALIDATE (Clean Repo)"
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: RSOLV Full Pipeline
        uses: RSOLV-dev/rsolv-action@20260131-validate-iter8
        with:
          rsolvApiKey: ${{ secrets.RSOLV_API_KEY }}
          mode: full
          max_issues: "5"
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          RSOLV_DEBUG: "true"
          AI_PROVIDER: "claude-code"
          USE_VENDED_CREDENTIALS: "true"
